[{"states": {"Start": {"type": "Initial", "direct_transition": "Initial_patient_GP_Visit", "setAttribute": {"UUID": [{"Value": "uuid()", "ExpressionType": "script", "GivenAttribute": "", "TemplateName": "", "EndPoint": "", "TypeConnections": "['fhir']", "Connection": ""}], "NhsNumber": [{"Value": "7832003812", "ExpressionType": "string", "GivenAttribute": "", "TemplateName": "", "EndPoint": "", "TypeConnections": "['fhir']", "Connection": ""}], "randID": [{"Value": "uniform(3.9, 5.4)", "ExpressionType": "script", "GivenAttribute": "", "TemplateName": "", "EndPoint": "", "TypeConnections": "['fhir']", "Connection": ""}], "anotheTest": [{"Value": "{'Value':uuid()}", "ExpressionType": "script", "GivenAttribute": "", "TemplateName": "", "EndPoint": "", "TypeConnections": "['fhir']", "Connection": ""}]}}, "patient_assessment": {"type": "Simple", "direct_transition": "test_request", "setAttribute": {"PatientRcorded": [{"Value": "TRUE", "ExpressionType": "string", "GivenAttribute": "person['PersonID']==1", "TemplateName": "FHIR_XML_Patient.txt", "EndPoint": "Patient/", "TypeConnections": " ['fhir']", "Connection": "{'base': 'http://localhost:8080/baseDstu3/','headers': {'Content-Type': 'application/xml'},'include_id': True, 'method_request': 'PUT'}"}]}}, "test_request": {"type": "Simple", "direct_transition": "Specimen_check", "setAttribute": {"PerformingOrg": [{"Value": "{'Code':'TKD13','DisplayName':'Midtown District Hospital','AddressLine':'Beckett Street','AddressCity':'Leeds','AddressDistrict':'West YorkShire','AddressPostalCode':'LS9 7TF'}", "ExpressionType": "script", "GivenAttribute": "person['PersonID']==1", "TemplateName": "FHIR_XML_PerformingOrg.txt", "EndPoint": "Organization/", "TypeConnections": " ['fhir']", "Connection": "{'base': 'http://localhost:8080/baseDstu3/','headers': {'Content-Type': 'application/xml'},'include_id': True, 'method_request': 'PUT'}"}], "RequestingHCP": [{"Value": "{'Code':'G6040649','DisplayName':'Dr Jane Green'}", "ExpressionType": "script", "GivenAttribute": "person['PersonID']==1", "TemplateName": "FHIR_XML_RequestingHCP.txt", "EndPoint": "Practitioner/", "TypeConnections": " ['fhir']", "Connection": "{'base': 'http://localhost:8080/baseDstu3/','headers': {'Content-Type': 'application/xml'},'include_id': True, 'method_request': 'PUT'}"}], "OrgRequesting": [{"Value": "{'Code':'D82015','DisplayName':'Manor GP Practice','AddressLine':'30/32 Bridge Street','AddressCity':'Downham Market','AddressDistrict':'Norfolk','AddressPostalCode':'PE38 9DH'}", "ExpressionType": "script", "GivenAttribute": "person['PersonID']==1", "TemplateName": "FHIR_XML_OrgRequesting.txt", "EndPoint": "Organization/", "TypeConnections": "['fhir']", "Connection": "{'base': 'http://localhost:8080/baseDstu3/','headers': {'Content-Type': 'application/xml'},'include_id': True, 'method_request': 'PUT'}"}]}}, "Specimen_check": {"type": "Simple", "direct_transition": "specimen_ready_for_test", "setAttribute": {"Request": [{"Value": "{'Code':'26604007','DisplayName':'FBC - Full blood count','text':'FBC'}", "ExpressionType": "script", "GivenAttribute": "person['PersonID']==1", "TemplateName": "FHIR_XML_ProcedureRequest.txt", "EndPoint": "ProcedureRequest/", "TypeConnections": "['fhir']", "Connection": "{'base': 'http://localhost:8080/baseDstu3/','headers': {'Content-Type': 'application/xml'},'include_id': True, 'method_request': 'PUT'}"}], "Specimen": [{"Value": "{'Code':'53130003','DisplayName':'Venous blood (substance)'}", "ExpressionType": "script", "GivenAttribute": "person['PersonID']==1", "TemplateName": "FHIR_XML_Specimen.txt", "EndPoint": "Specimen/", "TypeConnections": "['fhir']", "Connection": "{'base': 'http://localhost:8080/baseDstu3/','headers': {'Content-Type': 'application/xml'},'include_id': True, 'method_request': 'PUT'}"}], "CollectingHCP": [{"Value": "{'Code':'J7040649','DisplayName':'Alice Jones'}", "ExpressionType": "script", "GivenAttribute": "person['PersonID']==1", "TemplateName": "", "EndPoint": "", "TypeConnections": "['fhir']", "Connection": ""}], "OrgCollecting": [{"Value": "{'Code':'D82015','DisplayName':'Manor GP Practice','AddressLine':'30/32 Bridge Street','AddressCity':'Downham Market','AddressDistrict':'Norfolk','AddressPostalCode':'PE38 9DH'}", "ExpressionType": "script", "GivenAttribute": "person['PersonID']==1", "TemplateName": "", "EndPoint": "", "TypeConnections": "['fhir']", "Connection": ""}]}}, "lab_test": {"type": "Simple", "direct_transition": "test_report", "setAttribute": {"obs": [{"Value": "{'code': '1000381000000105','DisplayName': 'Se prostate specific Ag level','value': randint(54,120),'unit':'ug/L', 'unit_code':'ug/L', 'system':'http://unitsofmeasure.org'}", "ExpressionType": "script", "GivenAttribute": "person['PersonID']==1", "TemplateName": "FHIR_XML_Observation.txt", "EndPoint": "Observation/", "TypeConnections": " ['fhir']", "Connection": "{'base': 'http://localhost:8080/baseDstu3/','headers': {'Content-Type': 'application/xml'},'include_id': True, 'method_request': 'PUT'}"}], "PerformingHCP": [{"Value": "{'Code':'J7040649','DisplayName':'Alice Jones'}", "ExpressionType": "script", "GivenAttribute": "person['PersonID']==1", "TemplateName": "", "EndPoint": "", "TypeConnections": "['fhir']", "Connection": ""}]}}, "test_report": {"type": "Simple", "direct_transition": "send_report"}, "send_report": {"type": "Simple", "direct_transition": "receive_report", "setAttribute": {"Report": [{"Value": "{'Code':'1028441000000104','DisplayName':'Potassium Level (Observable entity)'}", "ExpressionType": "script", "GivenAttribute": "person['PersonID']==1", "TemplateName": "FHIR_XML_DiagnosticReport.txt", "EndPoint": "DiagnosticReport/", "TypeConnections": " ['fhir']", "Connection": "{'base': 'http://localhost:8080/baseDstu3/','headers': {'Content-Type': 'application/xml'},'include_id': True, 'method_request': 'PUT'}"}], "BundleSent": [{"Value": "TRUE", "ExpressionType": "string", "GivenAttribute": "person['PersonID']==1", "TemplateName": "FHIR_Bundle.txt", "EndPoint": "Bundle/$validate", "TypeConnections": " ['fhir']", "Connection": "{'base': 'http://localhost:8186/ccri-fhir/STU3/','headers': {'Content-Type': 'application/xml'},'include_id': False, 'method_request': 'POST'}"}]}}, "receive_report": {"type": "Simple", "direct_transition": "GP_checks_report", "setAttribute": {"Observation": [{"Value": "{'Value':'4.8','Unit':'mmol/L','ReferenceLow':'3.5','ReferenceHigh':'5.3'}", "ExpressionType": "script", "GivenAttribute": "person['PersonID']==1", "TemplateName": "", "EndPoint": "", "TypeConnections": "['fhir']", "Connection": ""}]}}, "inform_patient": {"type": "Simple", "direct_transition": "Finish", "setAttribute": {"listing_provided": [{"Value": "TRUE", "ExpressionType": "string", "GivenAttribute": "person['PersonID']==1", "TemplateName": "InputsListing.txt", "EndPoint": "", "TypeConnections": "", "Connection": ""}], "json_provided": [{"Value": "TRUE", "ExpressionType": "string", "GivenAttribute": "person['PersonID']==1", "TemplateName": "person_json.txt", "EndPoint": "", "TypeConnections": "", "Connection": ""}]}}, "sending_test_request": {"type": "Delay", "exact": "{'quantity':randint(12,48),'unit':'hours'}"}, "GP_diagnosis": {"type": "Delay", "exact": "{'quantity':randint(5,10),'unit':'minutes'}"}, "specimen_ready_for_test": {"type": "Delay", "exact": "{'quantity':randint(1,30),'unit':'minutes'}", "direct_transition": "lab_test"}, "prepare_report_for_send": {"type": "Delay", "exact": "{'quantity':randint(1,24),'unit':'hours'}"}, "test_complete": {"type": "Delay", "exact": "{'quantity':randint(1,24,'unit':'hours'}"}, "report_in_transfer": {"type": "Delay", "exact": "{'quantity':randint(1,24),'unit':'hours'}"}, "Initial_patient_GP_Visit": {"type": "Delay", "exact": "{'quantity':randint(10,50),'unit':'minutes'}", "direct_transition": "patient_assessment"}, "GP_checks_report": {"type": "Delay", "exact": "{'quantity':randint(1,24),'unit':'hours'}", "direct_transition": "inform_patient"}, "Finish": {"type": "Terminal"}}}]